<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Merriweather:300">
        <link rel="icon" type="image/png" href="https://android.processing.org/favicon.png">
        <link rel="stylesheet" href="../../css/main.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>Processing for Android</title>
    </head>
    
    <body>

        <nav class="topnav">        
            <ul class="left">
                <li><a href="https://processing.org/">Processing</a></li>
                <li><a href="https://p5js.org/">p5.js</a></li>
                <li><a href="https://py.processing.org/">Processing.py</a></li>
                <li><a href="https://pi.processing.org/">Processing for Pi</a></li>
            </ul>
            <ul class="foundation">
                <li><a href="https://processingfoundation.org/">Processing Foundation</a></li>
            </ul>
        </nav>

        <header>            
            <h1 class="title">Processing for Android</h1>
        </header>

        <div class="group">

            <nav class="site">
                <img class="logo" src="../../imgs/logo_processing_android.svg" alt="Processing for Android logo">
                <ul class="leftnav">
                   <li><a href="../../index.html">Home</a></li>
                   <li><a href="../../install.html">Install</a></li>
                   <li><a href="../../reference/index.html">Reference</a></li>
                   <li><a id="selected" href="../../tutorials/index.html">Tutorials</a></li>
                   <li><a href="../../books/index.html">Books</a></li>
                   <li><a href="../../gallery/index.html">Gallery</a></li>
                   <li><a href="https://discourse.processing.org/c/processing-android" target="_black">Forum</a></li>
                   <li><a href="https://github.com/processing/processing-android" target="_black">GitHub</a></li>
                </ul>
            </nav>
      
            <section class="container main-text">

                <div class="lang">
                  <a id="selected" href="index.html">EN</a>
                  <a href="../../es/tutorials/distributing/index.html">ES</a>
                </div>
                <hr style="clear:both;">

            	<h2>Distributing apps</h2>
                <p>In this tutorial we will cover the steps to publish your Processing sketch as an app in the Google Play store.</p>

                <p>Before packaging the app for release, it is required that you set the icons for your app, wallpaper, or watch face, because Processing will not use the default generic icons for the release package of your app. It is very important that you also choose a package name that will uniquely identify your app in the store.</p>

                <h3>Setting custom icons</h3>
                <p>
                Android mode uses a set of default launcher icons for the app. You should use your own icons for release by creating the files icon-36, 48, 72, 96, 144, and 192 in .PNG format, and placing them in the sketch's folder before exporting the signed package. Follow the <a href="https://www.google.com/design/spec/style/icons.html" target="_black">icon design guidelines from Google</a> in order to create your icons.
                </p>

                <p>If you are creating a watch face, you also need to provide the files preview_circular.png and preview_rectangular.png, which will be used to show a preview of the watch face in the Android Wear companion app that runs on the phone, or in the watch face selector on the watch. The resolutions of these icons are 320x320 for the circular preview, and 280x280 for the rectangular preview.
                </p>

                <h3>Setting version and package name</h3>
                The package name is a string of text that often looks something like "com.example.helloworld", and follows the <a href="https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html" target="_black">Java package naming convention</a> where the app name ("helloworld") is last, and preceeded by the website of the company or person developing the app in reverse order ("com.example"). Processing constructs this package name automatically by prepending "processing.test" to the sketch name. You can set your own package name by editing the <a href="https://developer.android.com/guide/topics/manifest/manifest-intro.html" target="_black">manifest file</a> that Processing generates in the sketch folder after you run it for the first time from the PDE (either on a device or in the emulator). You can also set the version code and version name. For example, in the following manifest file, the package name is "com.example.helloworld", version code 1, and version name 0.5.4:
                <p> 

<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android" 
          android:versionCode="10" 
          android:versionName="0.5.4" package="com.example.helloworld"&gt;
    &lt;uses-sdk android:minSdkVersion="16" android:targetSdkVersion="26"/&gt;
    &lt;application android:icon="@drawable/icon" android:label=""&gt;
        &lt;activity android:name=".MainActivity" 
                  android:theme="@style/Theme.AppCompat.Light.NoActionBar.FullScreen"&gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN"/&gt;
                &lt;category android:name="android.intent.category.LAUNCHER"/&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;
&lt;/manifest&gt;
</pre>


                <p>Note that the package name of you app is unique, since there cannot be two apps on the Google Play store with the same package name.</p>

                <h3>Creating the signed app package</h3>
                <p>
                The Android Mode simplifies the publishing of your sketch by <a href="https://developer.android.com/studio/publish/app-signing.html" target="_black">signing</a> and <a href="https://developer.android.com/studio/command-line/zipalign.html" target="_black">aligning</a> the app, so you can upload it to the Google Play Developer Console without any extra additional steps. All you need to do is to select the "Export Signed Package" option under the File menu:
                </p>

                <p><img class="body-image" src="../../imgs/tutorials/distributing/export_option.png" alt="Export signed package"></p>

                <p>
                After selecting this option, Processing will ask you to create a new keystore to store the release key to sign the app package:
                </p>

                <p><img class="body-image" src="../../imgs/tutorials/distributing/kestore_manager.png" alt="Keystore manager"></p>

                <p>
                Remember this password, as you will have to use it every time you export a new signed package. Even though you can reset it and create a new key, as long as an app is identified with the same package name, it has to have the same release key.
                </p>

                <p>
                The signed (and aligned) package will be saved in the build subfolder inside the sketch's folder, under the name [Sketch name in lowercase]_release_signed_aligned.apk. Once you have generated this file, you can follow the <a href="https://developer.android.com/distribute/googleplay/start.html">instructions from Google</a> to complete the publishing process of your app on Google Play.
                </p>

            </section>

        </div>

        <footer class="footinfo">
            <small>&copy; The Processing Foundation. Processing for Android is a <a href="../../team.html">collaborative project</a>.</small>
        </footer>
    </body>
</html>

