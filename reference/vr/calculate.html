<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">      
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Merriweather:300">
        <link rel="icon" type="image/png" href="https://android.processing.org/favicon.png">
        <link rel="stylesheet" href="../../css/main.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>Processing for Android</title>
    </head>
    
    <body>

        <nav class="topnav">        
            <ul class="left">
                <li><a href="https://processing.org/">Processing</a></li>
                <li><a href="https://p5js.org/">p5.js</a></li>
                <li><a href="https://py.processing.org/">Processing.py</a></li>
                <li><a href="https://pi.processing.org/">Processing for Pi</a></li>
            </ul>
            <ul class="foundation">
                <li><a href="https://processingfoundation.org/">Processing Foundation</a></li>
            </ul>
        </nav>

        <header>            
            <h1 class="title">Processing for Android</h1>
        </header>

        <div class="group">

            <nav class="site">
                <img class="logo" src="../../imgs/logo_processing_android.svg" alt="Processing for Android logo">
                <ul class="leftnav">
                   <li><a href="../../index.html">Home</a></li>
                   <li><a href="../../install.html">Install</a></li>
                   <li><a id="selected" href="../../reference/index.html">Reference</a>
                   <li><a href="../../tutorials/index.html">Tutorials</a></li>
                   <li><a href="../../books/index.html">Books</a></li>
                   <li><a href="../../gallery/index.html">Gallery</a></li>
                   <li><a href="https://discourse.processing.org/c/processing-android" target="_black">Forum</a></li>
                   <li><a href="https://github.com/processing/processing-android" target="_black">GitHub</a></li>
                </ul>
            </nav>
      
            <section class="container main-text">

                <div class="lang">
                  <a id="selected" href="calculate.html">EN</a>
                  <a href="../../es/reference/vr/calculate.html">ES</a>
                </div>
                <hr style="clear:both;">

               <h2>calculate()</h2>
                <p>The draw() function in a VR app is called twice per frame, one for each eye. This means that code in draw() that only needs to be run once, will be run two times instead, which can result in errors in the animation or other aspects of the sketch. We can put this code inside the calculate() function, which is called once per frame, right before draw().</p>

<pre><code>
<span style="color: #33997E;">import</span> processing.vr.*;

<span style="color: #E2661A;">float</span> x, y, z;
<span style="color: #33997E;">void</span> <span style="color: #006699;"><b>setup</b></span>() {
&nbsp;&nbsp;<span style="color: #006699;">fullScreen</span>(VR);
}&nbsp;&nbsp;&nbsp;&nbsp;

<span style="color: #33997E;">void</span> calculate() {
&nbsp;&nbsp;<span style="color: #666666;">// update position variables, e.g.:</span>
&nbsp;&nbsp;x&nbsp;+=&nbsp;0.1;&nbsp;
&nbsp;&nbsp;y&nbsp;+=&nbsp;0.1;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;z&nbsp;+=&nbsp;0.1;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}

<span style="color: #33997E;">void</span> <span style="color: #006699;"><b>draw</b></span>() {
&nbsp;&nbsp;<span style="color: #006699;">translate</span>(x, y, z);
&nbsp;&nbsp;<span style="color: #666666;">// ...</span>
}
</code></pre>

            </section>

        </div>

        <footer class="footinfo">
            <small>&copy; The Processing Foundation. Processing for Android is a <a href=../../team.html>collaborative project</a>.</small>
        </footer>
    </body>
</html>

